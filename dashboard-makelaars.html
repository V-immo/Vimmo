<!DOCTYPE html>
<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Makelaars Dashboard | Vimmo</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Outfit:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/remixicon@3.5.0/fonts/remixicon.css">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="dashboard-makelaars">
        <!-- Sidebar -->
        <aside class="sidebar">
            <a href="index.html" class="sidebar-brand">
                <span class="logo-v">V</span> <span class="logo-i">I</span><span class="logo-mmo">MMO</span>
            </a>

            <nav class="sidebar-nav">
                <div class="nav-section">
                    <div class="nav-section-title">Beheer</div>
                    <a href="dashboard-makelaars.html" class="nav-item active">
                        <i class="ri-dashboard-line"></i> Overzicht
                    </a>
                    <a href="advertentie-makelaars.html" class="nav-item">
                        <i class="ri-home-4-line"></i> Mijn Panden
                    </a>
                    <a href="agenda-makelaars.html" class="nav-item">
                        <i class="ri-calendar-event-line"></i> Aanvragen
                        <span class="badge">3</span>
                    </a>
                    <a href="berichten-makelaars.html" class="nav-item">
                        <i class="ri-message-3-line"></i> Berichten
                        <span class="badge">2</span>
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Account</div>
                    <a href="dashboard-makelaars.html#boost" class="nav-item">
                        <i class="ri-rocket-line"></i> Boost Pand
                    </a>
                    <a href="dashboard-makelaars.html#stats" class="nav-item">
                        <i class="ri-bar-chart-box-line"></i> Analytics
                    </a>
                </div>

                <div class="nav-section">
                    <div class="nav-section-title">Account</div>
                    <a href="instellingen-makelaars.html" class="nav-item">
                        <i class="ri-settings-3-line"></i> Instellingen
                    </a>
                    <a href="index.html" class="nav-item">
                        <i class="ri-logout-box-line"></i> Uitloggen
                    </a>
                </div>
            </nav>

            <div class="sidebar-user">
                <div class="user-avatar">JD</div>
                <div class="user-info">
                    <h4>Jan de Vries</h4>
                    <p>Vimmo Partner</p>
                </div>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <div class="page-header">
                <div>
                    <h1 class="page-title">Goedenavond, Thomas</h1>
                    <p style="color: var(--text-muted);">Hier is uw overzicht van vandaag</p>
                </div>
                <div style="display: flex; gap: 12px; align-items: center;">
                    <!-- Property Switcher -->
                    <select id="propertySwitcher" onchange="switchProperty()"
                        style="padding: 12px 16px; border: 1px solid rgba(0,0,0,0.1); border-radius: var(--radius-md); background: white; cursor: pointer; min-width: 250px;">
                        <option value="all">üìä Alle Panden (3)</option>
                        <option value="1" selected>üè† Moderne Woning - Antwerpen</option>
                        <option value="2">üè¢ Penthouse - Schelde</option>
                        <option value="3">üè° Villa - Brasschaat</option>
                    </select>

                    <!-- Add Property Button -->
                    <button onclick="window.location.href='verkopen.html'"
                        style="padding: 12px 24px; background: var(--primary-makelaars); color: white; border: none; border-radius: var(--radius-md); cursor: pointer; font-weight: 600; display: flex; align-items: center; gap: 8px; white-space: nowrap;">
                        <i class="ri-add-line"></i> Nieuw Pand
                    </button>
                </div>
            </div>

            <!-- Stats -->
            <div class="stats-grid" id="stats">
                <div class="stat-card">
                    <div class="stat-label"><i class="ri-eye-line"></i> Totale Views</div>
                    <div class="stat-value">4,892</div>
                    <div class="stat-change positive">‚Üë 12% vs vorige maand</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label"><i class="ri-user-add-line"></i> Nieuwe Leads</div>
                    <div class="stat-value">23</div>
                    <div class="stat-change positive">‚Üë 8% vs vorige maand</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label"><i class="ri-home-4-line"></i> Actieve Panden</div>
                    <div class="stat-value">7</div>
                    <div class="stat-change">+2 deze maand</div>
                </div>
                <div class="stat-card">
                    <div class="stat-label"><i class="ri-percent-line"></i> Conversie</div>
                    <div class="stat-value">4.7%</div>
                    <div class="stat-change positive">‚Üë 0.3%</div>
                </div>
            </div>

            <!-- Content Grid -->
            <div class="content-grid">
                <!-- Requests -->
                <div class="card" id="aanvragen">
                    <div class="card-header">
                        <h3 class="card-title">Nieuwe Bezichtigingsaanvragen</h3>
                        <a href="agenda-makelaars.html"
                            style="color: var(--primary-makelaars); font-size: 0.9rem;">Bekijk
                            alle</a>
                    </div>

                    <div class="request-item">
                        <div class="request-avatar"><i class="ri-user-line"></i></div>
                        <div class="request-info">
                            <div class="request-name">
                                Emma Peeters
                                <span class="verified-tag"><i class="ri-shield-check-line"></i> Itsme</span>
                            </div>
                            <div class="request-property">Penthouse aan de Schelde</div>
                        </div>
                        <div class="request-times">
                            <strong>Wo 14:00</strong>
                            Do 10:00, Vr 16:00
                        </div>
                        <button class="btn-confirm" onclick="confirmRequest(this)">Bevestig</button>
                    </div>

                    <div class="request-item">
                        <div class="request-avatar"><i class="ri-user-line"></i></div>
                        <div class="request-info">
                            <div class="request-name">
                                Lucas Van Damme
                                <span class="verified-tag"><i class="ri-shield-check-line"></i> Itsme</span>
                            </div>
                            <div class="request-property">Villa Sint-Martens-Latem</div>
                        </div>
                        <div class="request-times">
                            <strong>Za 11:00</strong>
                            Ma 15:00
                        </div>
                        <button class="btn-confirm" onclick="confirmRequest(this)">Bevestig</button>
                    </div>

                    <div class="request-item">
                        <div class="request-avatar"><i class="ri-user-line"></i></div>
                        <div class="request-info">
                            <div class="request-name">
                                Sophie Janssens
                                <span class="verified-tag"><i class="ri-shield-check-line"></i> Itsme</span>
                            </div>
                            <div class="request-property">Stadsloft Gent Centrum</div>
                        </div>
                        <div class="request-times">
                            <strong>Di 09:30</strong>
                            Wo 14:00
                        </div>
                        <button class="btn-confirm" onclick="confirmRequest(this)">Bevestig</button>
                    </div>
                </div>

                <!-- Activity Feed -->
                <div class="card">
                    <div class="card-header">
                        <h3 class="card-title">Recente Activiteit</h3>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon lead"><i class="ri-calendar-check-line"></i></div>
                        <div class="activity-text">
                            <strong>Emma Peeters</strong> vraagt bezichtiging aan
                        </div>
                        <div class="activity-time">5 min</div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon view"><i class="ri-eye-line"></i></div>
                        <div class="activity-text">
                            <strong>Penthouse</strong> kreeg 34 views vandaag
                        </div>
                        <div class="activity-time">1 uur</div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon message"><i class="ri-message-3-line"></i></div>
                        <div class="activity-text">
                            Nieuw bericht over <strong>Villa</strong>
                        </div>
                        <div class="activity-time">2 uur</div>
                    </div>

                    <div class="activity-item">
                        <div class="activity-icon lead"><i class="ri-calendar-check-line"></i></div>
                        <div class="activity-text">
                            <strong>Lucas Van Damme</strong> vraagt bezichtiging aan
                        </div>
                        <div class="activity-time">3 uur</div>
                    </div>
                </div>
            </div>

            <!-- Properties Preview -->
            <div class="card" id="panden" style="margin-top: 24px;">
                <div class="card-header">
                    <h3 class="card-title">Mijn Panden</h3>
                    <a href=\"advertentie-makelaars.html\" style=\"color: var(--primary-makelaars); font-size:
                        0.9rem;\">Beheer alle</a>
                </div>

                <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 16px;">
                    <div class="property-mini">
                        <img src="https://images.unsplash.com/photo-1600596542815-40b510412bba?auto=format&fit=crop&q=80&w=200"
                            class="property-mini-img">
                        <div class="property-mini-info">
                            <h4>Penthouse aan de Schelde</h4>
                            <p>‚Ç¨ 1.250.000 ¬∑ Antwerpen</p>
                        </div>
                        <div class="property-mini-stats">
                            <div class="views">892 views</div>
                            <div style="color: #666; font-size: 0.8rem;">12 leads</div>
                        </div>
                    </div>

                    <div class="property-mini">
                        <img src="https://images.unsplash.com/photo-1613490493576-7fde63acd811?auto=format&fit=crop&q=80&w=200"
                            class="property-mini-img">
                        <div class="property-mini-info">
                            <h4>Villa Sint-Martens-Latem</h4>
                            <p>‚Ç¨ 2.400.000 ¬∑ Gent</p>
                        </div>
                        <div class="property-mini-stats">
                            <div class="views">1.2k views</div>
                            <div style="color: #666; font-size: 0.8rem;">8 leads</div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Boost Section -->
            <div class="card" id="boost"
                style="margin-top: 24px; background: linear-gradient(135deg, #3d3530 0%, #5a4a40 100%); color: white;">
                <div class="card-header" style="border-bottom-color: rgba(255,255,255,0.1);">
                    <h3 class="card-title" style="color: white;"><i class="ri-rocket-line" style="color: #d4a574;"></i>
                        Boost uw Panden</h3>
                </div>

                <div style="display: grid; grid-template-columns: repeat(3, 1fr); gap: 16px; padding-top: 8px;">
                    <!-- Toppositie -->
                    <div
                        style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 12px; text-align: center;">
                        <i class="ri-arrow-up-circle-line"
                            style="font-size: 2rem; color: #d4a574; margin-bottom: 12px;"></i>
                        <h4 style="font-size: 1rem; margin-bottom: 8px;">Toppositie</h4>
                        <p style="font-size: 0.85rem; opacity: 0.8; margin-bottom: 16px;">7 dagen bovenaan in
                            zoekresultaten
                        </p>
                        <div style="font-size: 1.2rem; font-weight: 700; color: #d4a574; margin-bottom: 12px;">‚Ç¨29
                        </div>
                        <button class="btn"
                            style="background: rgba(255,255,255,0.2); color: white; width: 100%; padding: 10px;">Activeren</button>
                    </div>

                    <!-- Featured Banner -->
                    <div
                        style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 12px; text-align: center;">
                        <i class="ri-star-line" style="font-size: 2rem; color: #d4a574; margin-bottom: 12px;"></i>
                        <h4 style="font-size: 1rem; margin-bottom: 8px;">Featured Banner</h4>
                        <p style="font-size: 0.85rem; opacity: 0.8; margin-bottom: 16px;">Homepage uitgelicht sectie
                        </p>
                        <div style="font-size: 1.2rem; font-weight: 700; color: #d4a574; margin-bottom: 12px;">‚Ç¨49
                        </div>
                        <button class="btn"
                            style="background: rgba(255,255,255,0.2); color: white; width: 100%; padding: 10px;">Activeren</button>
                    </div>

                    <!-- Virtuele Video Tour - NEW -->
                    <div
                        style="background: linear-gradient(135deg, #d4a574 0%, #b8956a 100%); padding: 20px; border-radius: 12px; text-align: center; position: relative;">
                        <span
                            style="position: absolute; top: -8px; right: 12px; background: #22c55e; color: white; padding: 4px 10px; border-radius: 20px; font-size: 0.7rem; font-weight: 600;">NIEUW</span>
                        <i class="ri-vidicon-line" style="font-size: 2rem; color: white; margin-bottom: 12px;"></i>
                        <h4 style="font-size: 1rem; margin-bottom: 8px; color: white;">Virtuele Video Tour</h4>
                        <p style="font-size: 0.85rem; opacity: 0.9; margin-bottom: 16px; color: white;">Upload uw
                            eigen
                            video rondleiding</p>
                        <div style="font-size: 1.2rem; font-weight: 700; color: white; margin-bottom: 12px;">‚Ç¨79
                        </div>
                        <button class="btn btn-primary"
                            style="background: white; color: #3d3530; width: 100%; padding: 10px;">Upload
                            Video</button>
                    </div>
                </div>

                <p style="text-align: center; margin-top: 20px; font-size: 0.85rem; opacity: 0.7;">
                    <i class="ri-information-line"></i> Boosts zijn geldig per pand. Combineer voor maximale
                    zichtbaarheid.
                </p>
            </div>
        </main>

        <script src="propertyContext.js"></script>
        <script>
            // Load stats for current property
            function loadStatsForProperty() {
                const stats = propertyContext.getStats();
                const property = propertyContext.getCurrent();

                // Update stats display
                document.querySelector('.stats-grid .stat-card:nth-child(1) .stat-value').textContent = stats.views || 0;
                document.querySelector('.stats-grid .stat-card:nth-child(2) .stat-value').textContent = stats.requests || 0;
                document.querySelector('.stats-grid .stat-card:nth-child(3) .stat-value').textContent = stats.saves || 0;
                document.querySelector('.stats-grid .stat-card:nth-child(4) .stat-value').textContent = stats.messages || 0;

                console.log(`Loaded stats for ${property.name}:`, stats);
            }

            // Switch property
            function switchProperty() {
                const select = document.getElementById('propertySwitcher');
                const propertyId = select.value;

                if (propertyId === 'all') {
                    // Show combined stats for all properties
                    const allStats = {
                        views: 0,
                        requests: 0,
                        saves: 0,
                        messages: 0
                    };

                    Object.keys(PROPERTIES).forEach(id => {
                        const stats = propertyContext.getData('stats', id) || {};
                        allStats.views += stats.views || 0;
                        allStats.requests += stats.requests || 0;
                        allStats.saves += stats.saves || 0;
                        allStats.messages += stats.messages || 0;
                    });

                    // Update display with combined stats
                    document.querySelector('.stats-grid .stat-card:nth-child(1) .stat-value').textContent = allStats.views;
                    document.querySelector('.stats-grid .stat-card:nth-child(2) .stat-value').textContent = allStats.requests;
                    document.querySelector('.stats-grid .stat-card:nth-child(3) .stat-value').textContent = allStats.saves;
                    document.querySelector('.stats-grid .stat-card:nth-child(4) .stat-value').textContent = allStats.messages;

                    console.log('Showing combined stats for all properties');
                } else {
                    // Switch to specific property
                    propertyContext.switch(propertyId);
                }
            }

            // Listen for property changes
            window.addEventListener('propertyChanged', (e) => {
                console.log('Property changed to:', e.detail.property.name);
                loadStatsForProperty();
            });

            function confirmRequest(btn) {
                const item = btn.closest('.request-item');
                btn.innerHTML = '<i class="ri-check-line"></i> Bevestigd';
                btn.style.background = '#22c55e';
                btn.disabled = true;

                setTimeout(() => {
                    item.style.opacity = '0.5';
                }, 1000);
            }

            // Load on page load
            window.addEventListener('load', () => {
                // Set property selector to current property
                const currentId = propertyContext.getCurrentId();
                document.getElementById('propertySwitcher').value = currentId;

                // Load stats for current property
                loadStatsForProperty();
            });
        </script>
    </div>
    <script src="dashboard-nav.js"></script>
</body>

</html>